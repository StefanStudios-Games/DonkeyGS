namespace SpriteKind {
    export const Kong = SpriteKind.create()
    export const Selector = SpriteKind.create()
}
function moveSelector (direction: string) {
    if (direction == "right") {
        if (Selector.x == 30) {
            Selector.x = 78
        } else if (Selector.x == 78) {
            Selector.x = 126
        } else if (Selector.x == 126) {
        	
        }
    } else {
        if (Selector.x == 30) {
        	
        } else if (Selector.x == 78) {
            Selector.x = 30
        } else if (Selector.x == 126) {
            Selector.x = 78
        }
    }
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameType == 0) {
        Selector.destroy()
        if (Selector.x == 30) {
        	
        } else if (Selector.x == 78) {
            CallDonkeyKong()
        } else if (Selector.x == 126) {
        	
        }
    }
})
function CreatePlayer () {
    Character = sprites.create(img`
        . . . . f f f f f f . . . . . . 
        . . . f 8 f e e e e f f . . . . 
        . . f 8 8 8 f e e e e f f . . . 
        . . f e e e e f f e e e f . . . 
        . f e 8 8 8 8 e e f f f f . . . 
        . f 8 e f f f f 8 8 8 e f . . . 
        . f f f e e e f f f f f f f . . 
        . f e e 6 6 f b e 6 6 e f f . . 
        . . f e d d f 1 6 d 6 e e f . . 
        . . . f d d d d 6 e e e f . . . 
        . . . f e 6 6 6 e e f f . . . . 
        . . . f 8 8 8 e d d 6 . . . . . 
        . . . f 8 8 8 e d d e . . . . . 
        . . . f 9 9 6 f e e f . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . . . . f f f . . . . . . . 
        `, SpriteKind.Player)
    controller.moveSprite(Character, 100, 0)
    Character.ay = 230
    tiles.placeOnRandomTile(Character, sprites.dungeon.collectibleRedCrystal)
    scene.cameraFollowSprite(Character)
}
scene.onOverlapTile(SpriteKind.Projectile, assets.tile`myTile`, function (sprite, location) {
    sprite.vx = BarrelSpeed
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameType == 2) {
        if (Character.vy == 0) {
            music.knock.play()
            Character.vy = -160
        }
    } else if (gameType == 1) {
        animation.runImageAnimation(
        Character,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . b 5 5 b . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . b b b b b 5 5 5 5 5 5 5 b . . 
            . b d 5 b 5 5 5 5 5 5 5 5 b . . 
            . . b 5 5 b 5 d 1 f 5 d 4 f . . 
            . . b d 5 5 b 1 f f 5 4 4 c . . 
            b b d b 5 5 5 d f b 4 4 4 4 b . 
            b d d c d 5 5 b 5 4 4 4 4 4 4 b 
            c d d d c c b 5 5 5 5 5 5 5 b . 
            c b d d d d d 5 5 5 5 5 5 5 b . 
            . c d d d d d d 5 5 5 5 5 d b . 
            . . c b d d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . b 5 b . . . 
            . . . . . . . . . b 5 b . . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . b b b b b 5 5 5 5 5 5 5 b . . 
            . b d 5 b 5 5 5 5 5 5 5 5 b . . 
            . . b 5 5 b 5 d 1 f 5 d 4 f . . 
            . . b d 5 5 b 1 f f 5 4 4 c . . 
            b b d b 5 5 5 d f b 4 4 4 4 4 b 
            b d d c d 5 5 b 5 4 4 4 4 4 b . 
            c d d d c c b 5 5 5 5 5 5 5 b . 
            c b d d d d d 5 5 5 5 5 5 5 b . 
            . c d d d d d d 5 5 5 5 5 d b . 
            . . c b d d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            `,img`
            . . . . . . . . . . b 5 b . . . 
            . . . . . . . . . b 5 b . . . . 
            . . . . . . . . . b c . . . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . . . . b b 5 d 1 f 5 5 d f . . 
            . . . . b 5 5 1 f f 5 d 4 c . . 
            . . . . b 5 5 d f b d d 4 4 . . 
            b d d d b b d 5 5 5 4 4 4 4 4 b 
            b b d 5 5 5 b 5 5 4 4 4 4 4 b . 
            b d c 5 5 5 5 d 5 5 5 5 5 b . . 
            c d d c d 5 5 b 5 5 5 5 5 5 b . 
            c b d d c c b 5 5 5 5 5 5 5 b . 
            . c d d d d d d 5 5 5 5 5 d b . 
            . . c b d d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            `,img`
            . . . . . . . . . . b 5 b . . . 
            . . . . . . . . . b 5 b . . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . . . . b b 5 d 1 f 5 d 4 c . . 
            . . . . b 5 5 1 f f d d 4 4 4 b 
            . . . . b 5 5 d f b 4 4 4 4 b . 
            . . . b d 5 5 5 5 4 4 4 4 b . . 
            . . b d d 5 5 5 5 5 5 5 5 b . . 
            . b d d d d 5 5 5 5 5 5 5 5 b . 
            b d d d b b b 5 5 5 5 5 5 5 b . 
            c d d b 5 5 d c 5 5 5 5 5 5 b . 
            c b b d 5 d c d 5 5 5 5 5 5 b . 
            . b 5 5 b c d d 5 5 5 5 5 d b . 
            b b c c c d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            `],
        85,
        false
        )
        Character.vy = -100
        animation.runImageAnimation(
        Character,
        [img`
            . . . . . . . . . . b 5 b . . . 
            . . . . . . . . . b 5 b . . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . . . . b b 5 d 1 f 5 d 4 c . . 
            . . . . b 5 5 1 f f d d 4 4 4 b 
            . . . . b 5 5 d f b 4 4 4 4 b . 
            . . . b d 5 5 5 5 4 4 4 4 b . . 
            . . b d d 5 5 5 5 5 5 5 5 b . . 
            . b d d d d 5 5 5 5 5 5 5 5 b . 
            b d d d b b b 5 5 5 5 5 5 5 b . 
            c d d b 5 5 d c 5 5 5 5 5 5 b . 
            c b b d 5 d c d 5 5 5 5 5 5 b . 
            . b 5 5 b c d d 5 5 5 5 5 d b . 
            b b c c c d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            `,img`
            . . . . . . . . . . b 5 b . . . 
            . . . . . . . . . b 5 b . . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . . . . b b 5 d 1 f 5 5 d f . . 
            . . . . b 5 5 1 f f 5 d 4 c . . 
            . . . . b 5 5 d f b d d 4 4 . . 
            . b b b d 5 5 5 5 5 4 4 4 4 4 b 
            b d d d b b d 5 5 4 4 4 4 4 b . 
            b b d 5 5 5 b 5 5 5 5 5 5 b . . 
            c d c 5 5 5 5 d 5 5 5 5 5 5 b . 
            c b d c d 5 5 b 5 5 5 5 5 5 b . 
            . c d d c c b d 5 5 5 5 5 d b . 
            . . c b d d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . b 5 b . . . . 
            . . . . . . . . . b 5 b . . . . 
            . . . . . . b b b b b b . . . . 
            . . . . . b b 5 5 5 5 5 b . . . 
            . . . . b b 5 b c 5 5 d 4 c . . 
            . b b b b 5 5 5 b f d d 4 4 4 b 
            . b d 5 b 5 5 b c b 4 4 4 4 b . 
            . . b 5 5 b 5 5 5 4 4 4 4 b . . 
            . . b d 5 5 b 5 5 5 5 5 5 b . . 
            . b d b 5 5 5 d 5 5 5 5 5 5 b . 
            b d d c d 5 5 b 5 5 5 5 5 5 b . 
            c d d d c c b 5 5 5 5 5 5 5 b . 
            c b d d d d d 5 5 5 5 5 5 5 b . 
            . c d d d d d d 5 5 5 5 5 d b . 
            . . c b d d d d d 5 5 5 b b . . 
            . . . c c c c c c c c b b . . . 
            `],
        85,
        false
        )
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameType == 2) {
        Character.setImage(img`
            . . . . f f f f f f . . . . . . 
            . . . f 8 f e e e e f f . . . . 
            . . f 8 8 8 f e e e e f f . . . 
            . . f e e e e f f e e e f . . . 
            . f e 8 8 8 8 e e f f f f . . . 
            . f 8 e f f f f 8 8 8 e f . . . 
            . f f f e e e f f f f f f f . . 
            . f e e 6 6 f b e 6 6 e f f . . 
            . . f e d d f 1 6 d 6 e e f . . 
            . . . f d d d d 6 e e e f . . . 
            . . . f e 6 6 6 e e f f . . . . 
            . . . f 8 8 8 e d d 6 . . . . . 
            . . . f 8 8 8 e d d e . . . . . 
            . . . f 9 9 6 f e e f . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . . . . f f f . . . . . . . 
            `)
    } else if (gameType == 0) {
        moveSelector("left")
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameType == 2) {
        Character.setImage(img`
            . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 8 f . . . 
            . . . f f e e e e f 8 8 8 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 8 8 8 8 e f . 
            . . . f e 8 8 8 f f f f e 8 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 6 6 e b f 6 6 e e f . 
            . . f e e 6 d 6 1 f d d e f . . 
            . . . f e e e 6 d d d d f . . . 
            . . . . f f e e 6 6 6 e f . . . 
            . . . . . 6 d d e 8 8 8 f . . . 
            . . . . . e d d e 8 8 8 f . . . 
            . . . . . f e e f 6 9 9 f . . . 
            . . . . . . f f f f f f . . . . 
            . . . . . . . f f f . . . . . . 
            `)
    } else if (gameType == 0) {
        moveSelector("right")
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeLifeBy(-1)
})
function intKong () {
    Kong = sprites.create(img`
        . . . . f f f f f . . . . . . . 
        . . . f e e e e e f . . . . . . 
        . . f d d d d e e e f . . . . . 
        . f d f f d f f e e f f . . . . 
        . f d f d d f d e e d d f . . . 
        f d e e d d d d e e b d c . . . 
        f d d d d d d d e e b d c . . . 
        f d c c c d d e e e f c . . . . 
        . f d d d d e e e f f . . . . . 
        . . f f f f f e e e e f . . . . 
        . . . . f f e e e e e e f . f f 
        . . . f e e f e e f e e f . e f 
        . . f e e f e e f e e e f . e f 
        . f b d f d b f b b f e f f e f 
        . f d d f d d f d d b e f f f f 
        . . f f f f f f f f f f f f f . 
        `, SpriteKind.Kong)
    for (let value of tiles.getTilesByType(sprites.dungeon.darkGroundNorth)) {
        tiles.placeOnRandomTile(Kong, sprites.dungeon.darkGroundNorth)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
scene.onOverlapTile(SpriteKind.Projectile, assets.tile`myTile0`, function (sprite, location) {
    sprite.vx = BarrelSpeed * -1
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile2`, function (sprite, location) {
    info.changeScoreBy(1)
    tiles.placeOnRandomTile(Character, sprites.dungeon.collectibleRedCrystal)
    BarrelSpeed += 10
    music.beamUp.play()
})
scene.onOverlapTile(SpriteKind.Projectile, sprites.dungeon.collectibleRedCrystal, function (sprite, location) {
    sprite.destroy()
})
function startingBarrels () {
    for (let value of tiles.getTilesByType(assets.tile`myTile`)) {
        Barrel = sprites.create(img`
            . . . f f f f f f f . . . 
            . . f 4 e e e e e e f . . 
            . f 4 e e e e e e e e f . 
            f 4 e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e f e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            . f e e e e e e e e 2 f . 
            . . f e e e e e e 2 f . . 
            . . . f f f f f f f . . . 
            `, SpriteKind.Projectile)
        tiles.placeOnTile(Barrel, value)
        Barrel.vx = -60
        Barrel.ay = 200
        pause(1000)
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
        Barrel = sprites.create(img`
            . . . f f f f f f f . . . 
            . . f 4 e e e e e e f . . 
            . f 4 e e e e e e e e f . 
            f 4 e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e f e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            . f e e e e e e e e 2 f . 
            . . f e e e e e e 2 f . . 
            . . . f f f f f f f . . . 
            `, SpriteKind.Projectile)
        tiles.placeOnTile(Barrel, value)
        Barrel.vx = -60
        Barrel.ay = 200
        pause(1000)
    }
}
function CallDonkeyKong () {
    gameType = 2
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    scene.setBackgroundColor(15)
    info.setLife(3)
    info.setScore(1)
    BarrelSpeed = 55
    tiles.setTilemap(tilemap`level1`)
    CreatePlayer()
    intKong()
    startingBarrels()
}
let Barrel: Sprite = null
let Kong: Sprite = null
let BarrelSpeed = 0
let Selector: Sprite = null
let Character: Sprite = null
let gameType = 0
gameType = 1
Character = sprites.create(img`
    . . . . . . . . . b 5 b . . . . 
    . . . . . . . . . b 5 b . . . . 
    . . . . . . b b b b b b . . . . 
    . . . . . b b 5 5 5 5 5 b . . . 
    . . . . b b 5 b c 5 5 d 4 c . . 
    . b b b b 5 5 5 b f d d 4 4 4 b 
    . b d 5 b 5 5 b c b 4 4 4 4 b . 
    . . b 5 5 b 5 5 5 4 4 4 4 b . . 
    . . b d 5 5 b 5 5 5 5 5 5 b . . 
    . b d b 5 5 5 d 5 5 5 5 5 5 b . 
    b d d c d 5 5 b 5 5 5 5 5 5 b . 
    c d d d c c b 5 5 5 5 5 5 5 b . 
    c b d d d d d 5 5 5 5 5 5 5 b . 
    . c d d d d d d 5 5 5 5 5 d b . 
    . . c b d d d d d 5 5 5 b b . . 
    . . . c c c c c c c c b b . . . 
    `, SpriteKind.Player)
Character.ay = 200
Character.setPosition(30, 25)
Character.setFlag(SpriteFlag.DestroyOnWall, true)
game.onUpdateInterval(3000, function () {
    if (gameType == 2) {
        Barrel = sprites.create(img`
            . . . f f f f f f f . . . 
            . . f 4 e e e e e e f . . 
            . f 4 e e e e e e e e f . 
            f 4 e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e f e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            f e e e e e e e e e e e f 
            . f e e e e e e e e 2 f . 
            . . f e e e e e e 2 f . . 
            . . . f f f f f f f . . . 
            `, SpriteKind.Projectile)
        tiles.placeOnRandomTile(Barrel, assets.tile`myTile1`)
        Barrel.vx = BarrelSpeed * -1
        Barrel.ay = 200
    }
})
